{"ast":null,"code":"import React from\"react\";import\"./PostDetail.css\";import{useNavigate}from\"react-router-dom\";import{toast}from\"react-toastify\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function PostDetail(_ref){var item=_ref.item,toggleDetails=_ref.toggleDetails;var navigate=useNavigate();// Toast functions\nvar notifyA=function notifyA(msg){return toast.error(msg);};var notifyB=function notifyB(msg){return toast.success(msg);};var removePost=function removePost(postId){if(window.confirm(\"Do you really want to delete this post ?\")){fetch(\"http://localhost:5000/deletePost/\".concat(postId),{method:\"delete\",headers:{Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")}}).then(function(res){return res.json();}).then(function(result){console.log(result);toggleDetails();navigate(\"/\");notifyB(result.message);});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"showComment\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"postPic\",children:/*#__PURE__*/_jsx(\"img\",{src:item.photo,alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",style:{borderBottom:\"1px solid #00000029\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-pic\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://images.unsplash.com/photo-1570295999919-56ceb5ecca61?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8cGVyc29ufGVufDB8MnwwfHw%3D&auto=format&fit=crop&w=500&q=60\",alt:\"\"})}),/*#__PURE__*/_jsx(\"h5\",{children:item.postedBy.name}),/*#__PURE__*/_jsx(\"div\",{className:\"deletePost\",onClick:function onClick(){removePost(item._id);},children:/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined\",children:\"delete\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"comment-section\",style:{borderBottom:\"1px solid #00000029\"},children:item.comments.map(function(comment){return/*#__PURE__*/_jsxs(\"p\",{className:\"comm\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"commenter\",style:{fontWeight:\"bolder\"},children:[comment.postedBy.name,\" \"]}),/*#__PURE__*/_jsx(\"span\",{className:\"commentText\",children:comment.comment})]});})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-content\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[item.likes.length,\" Likes\"]}),/*#__PURE__*/_jsx(\"p\",{children:item.body})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"add-comment\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined\",children:\"mood\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Add a comment\"//   value={comment}\n//   onChange={(e) => {\n//     setComment(e.target.value);\n//   }}\n}),/*#__PURE__*/_jsx(\"button\",{className:\"comment\"//   onClick={() => {\n//     makeComment(comment, item._id);\n//     toggleComment();\n//   }}\n,children:\"Post\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"close-comment\",onClick:function onClick(){toggleDetails();},children:/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined material-symbols-outlined-comment\",children:\"close\"})})]});}","map":{"version":3,"names":["React","useNavigate","toast","jsx","_jsx","jsxs","_jsxs","PostDetail","_ref","item","toggleDetails","navigate","notifyA","msg","error","notifyB","success","removePost","postId","window","confirm","fetch","concat","method","headers","Authorization","localStorage","getItem","then","res","json","result","console","log","message","className","children","src","photo","alt","style","borderBottom","postedBy","name","onClick","_id","comments","map","comment","fontWeight","likes","length","body","type","placeholder"],"sources":["D:/New folder/insta-clone/backend/frontend/src/Components/PostDetail.js"],"sourcesContent":["import React from \"react\";\r\nimport \"./PostDetail.css\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nexport default function PostDetail({ item, toggleDetails }) {\r\n  const navigate = useNavigate();\r\n\r\n  // Toast functions\r\n  const notifyA = (msg) => toast.error(msg);\r\n  const notifyB = (msg) => toast.success(msg);\r\n\r\n  const removePost = (postId) => {\r\n    if (window.confirm(\"Do you really want to delete this post ?\")) {\r\n      fetch(`http://localhost:5000/deletePost/${postId}`, {\r\n        method: \"delete\",\r\n        headers: {\r\n          Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n        },\r\n      })\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          console.log(result);\r\n          toggleDetails();\r\n          navigate(\"/\");\r\n          notifyB(result.message);\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"showComment\">\r\n      <div className=\"container\">\r\n        <div className=\"postPic\">\r\n          <img src={item.photo} alt=\"\" />\r\n        </div>\r\n        <div className=\"details\">\r\n          {/* card header */}\r\n          <div\r\n            className=\"card-header\"\r\n            style={{ borderBottom: \"1px solid #00000029\" }}\r\n          >\r\n            <div className=\"card-pic\">\r\n              <img\r\n                src=\"https://images.unsplash.com/photo-1570295999919-56ceb5ecca61?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8cGVyc29ufGVufDB8MnwwfHw%3D&auto=format&fit=crop&w=500&q=60\"\r\n                alt=\"\"/>\r\n            </div>\r\n            <h5>{item.postedBy.name}</h5>\r\n            <div\r\n              className=\"deletePost\"\r\n              onClick={() => {\r\n                removePost(item._id);\r\n              }}\r\n            >\r\n              <span className=\"material-symbols-outlined\">delete</span>\r\n            </div>\r\n          </div>\r\n\r\n          {/* commentSection */}\r\n          <div\r\n            className=\"comment-section\"\r\n            style={{ borderBottom: \"1px solid #00000029\" }}\r\n          >\r\n            {item.comments.map((comment) => {\r\n              return (\r\n                <p className=\"comm\">\r\n                  <span className=\"commenter\" style={{ fontWeight: \"bolder\" }}>\r\n                    {comment.postedBy.name}{\" \"}\r\n                  </span>\r\n                  <span className=\"commentText\">{comment.comment}</span>\r\n                </p>\r\n              );\r\n            })}\r\n          </div>\r\n\r\n          {/* card content */}\r\n          <div className=\"card-content\">\r\n            <p>{item.likes.length} Likes</p>\r\n            <p>{item.body}</p>\r\n          </div>\r\n\r\n          {/* add Comment */}\r\n          <div className=\"add-comment\">\r\n            <span className=\"material-symbols-outlined\">mood</span>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Add a comment\"\r\n              //   value={comment}\r\n              //   onChange={(e) => {\r\n              //     setComment(e.target.value);\r\n              //   }}\r\n            />\r\n            <button\r\n              className=\"comment\"\r\n              //   onClick={() => {\r\n              //     makeComment(comment, item._id);\r\n              //     toggleComment();\r\n              //   }}\r\n            >\r\n              Post\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div\r\n        className=\"close-comment\"\r\n        onClick={() => {\r\n          toggleDetails();\r\n        }}\r\n      >\r\n        <span className=\"material-symbols-outlined material-symbols-outlined-comment\">\r\n          close\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}