{"ast":null,"code":"import _slicedToArray from\"D:/New folder/insta-clone/backend/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import PostDetail from\"./PostDetail\";import\"./Profile.css\";import ProfilePic from\"./ProfilePic\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Profie(){var picLink=\"https://cdn-icons-png.flaticon.com/128/3177/3177440.png\";var _useState=useState([]),_useState2=_slicedToArray(_useState,2),pic=_useState2[0],setPic=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),show=_useState4[0],setShow=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),posts=_useState6[0],setPosts=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),user=_useState8[0],setUser=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),changePic=_useState10[0],setChangePic=_useState10[1];var toggleDetails=function toggleDetails(posts){if(show){setShow(false);}else{setShow(true);setPosts(posts);}};var changeprofile=function changeprofile(){if(changePic){setChangePic(false);}else{setChangePic(true);}};useEffect(function(){fetch(\"/user/\".concat(JSON.parse(localStorage.getItem(\"user\"))._id),{headers:{Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")}}).then(function(res){return res.json();}).then(function(result){console.log(result);setPic(result.post);setUser(result.user);console.log(pic);});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-frame\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile-pic\",children:/*#__PURE__*/_jsx(\"img\",{onClick:changeprofile,src:user.Photo?user.Photo:picLink,alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"pofile-data\",children:[/*#__PURE__*/_jsx(\"h1\",{children:JSON.parse(localStorage.getItem(\"user\")).name}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-info\",style:{display:\"flex\"},children:[/*#__PURE__*/_jsxs(\"p\",{children:[pic?pic.length:\"0\",\" posts\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[user.followers?user.followers.length:\"0\",\" followers\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[user.following?user.following.length:\"0\",\" following\"]})]})]})]}),/*#__PURE__*/_jsx(\"hr\",{style:{width:\"90%\",opacity:\"0.8\",margin:\"25px auto\"}}),/*#__PURE__*/_jsx(\"div\",{className:\"gallery\",children:pic.map(function(pics){return/*#__PURE__*/_jsx(\"img\",{src:pics.photo,onClick:function onClick(){toggleDetails(pics);},className:\"item\"},pics._id);})}),show&&/*#__PURE__*/_jsx(PostDetail,{item:posts,toggleDetails:toggleDetails}),changePic&&/*#__PURE__*/_jsx(ProfilePic,{changeprofile:changeprofile})]});}","map":{"version":3,"names":["React","useEffect","useState","PostDetail","ProfilePic","jsx","_jsx","jsxs","_jsxs","Profie","picLink","_useState","_useState2","_slicedToArray","pic","setPic","_useState3","_useState4","show","setShow","_useState5","_useState6","posts","setPosts","_useState7","_useState8","user","setUser","_useState9","_useState10","changePic","setChangePic","toggleDetails","changeprofile","fetch","concat","JSON","parse","localStorage","getItem","_id","headers","Authorization","then","res","json","result","console","log","post","className","children","onClick","src","Photo","alt","name","style","display","length","followers","following","width","opacity","margin","map","pics","photo","item"],"sources":["D:/New folder/insta-clone/backend/frontend/src/Components/Profile.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport PostDetail from \"./PostDetail\";\r\nimport \"./Profile.css\";\r\nimport ProfilePic from \"./ProfilePic\";\r\n\r\nexport default function Profie() {\r\n  var picLink = \"https://cdn-icons-png.flaticon.com/128/3177/3177440.png\"\r\n  const [pic, setPic] = useState([]);\r\n  const [show, setShow] = useState(false)\r\n  const [posts, setPosts] = useState([]);\r\n  const [user, setUser] = useState(\"\")\r\n  const [changePic, setChangePic] = useState(false)\r\n\r\n\r\n  const toggleDetails = (posts) => {\r\n    if (show) {\r\n      setShow(false);\r\n    } else {\r\n      setShow(true);\r\n      setPosts(posts);\r\n    }\r\n  };\r\n\r\n  const changeprofile = () => {\r\n    if (changePic) {\r\n      setChangePic(false)\r\n    } else {\r\n      setChangePic(true)\r\n    }\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    fetch(`/user/${JSON.parse(localStorage.getItem(\"user\"))._id}`, {\r\n      headers: {\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        console.log(result)\r\n        setPic(result.post);\r\n        setUser(result.user)\r\n        console.log(pic);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"profile\">\r\n      {/* Profile frame */}\r\n      <div className=\"profile-frame\">\r\n        {/* profile-pic */}\r\n        <div className=\"profile-pic\">\r\n          <img\r\n            onClick={changeprofile}\r\n            src={user.Photo ? user.Photo : picLink}\r\n            alt=\"\"\r\n          />\r\n        </div>\r\n        {/* profile-data */}\r\n        <div className=\"pofile-data\">\r\n          <h1>{JSON.parse(localStorage.getItem(\"user\")).name}</h1>\r\n          <div className=\"profile-info\" style={{ display: \"flex\" }}>\r\n            <p>{pic ? pic.length : \"0\"} posts</p>\r\n            <p>{user.followers ? user.followers.length : \"0\"} followers</p>\r\n            <p>{user.following ? user.following.length : \"0\"} following</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <hr\r\n        style={{\r\n          width: \"90%\",\r\n          opacity: \"0.8\",\r\n          margin: \"25px auto\",\r\n        }}\r\n      />\r\n      {/* Gallery */}\r\n      <div className=\"gallery\">\r\n        {pic.map((pics) => {\r\n          return <img key={pics._id} src={pics.photo}\r\n            onClick={() => {\r\n              toggleDetails(pics)\r\n            }}\r\n            className=\"item\"></img>;\r\n        })}\r\n      </div> \r\n      {show &&\r\n        <PostDetail item={posts} toggleDetails={toggleDetails} />\r\n      }\r\n      {\r\n        changePic &&\r\n        <ProfilePic changeprofile={changeprofile} />\r\n      }\r\n    </div>\r\n  );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}